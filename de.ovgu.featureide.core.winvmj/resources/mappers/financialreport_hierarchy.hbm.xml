<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC 
 "-//Hibernate/Hibernate Mapping DTD//EN"
 "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd"> 

<hibernate-mapping>
    <class name="aisco.financialreport.core.FinancialReportComponent" table="financialreport" discriminator-value="fr_comp">
        <!-- <id name="id" column="id" type="uuid-char"> -->
        <id name="id" column="id">
            <generator class="assigned"></generator>
        </id>
        <discriminator column="fr_type" type="string"></discriminator> 
        <property name="datestamp" column="datestamp"></property>
        <property name="amount" column="amount"></property>
        <property name="description" column="description"></property>
        <!-- <many-to-one name="program" class="aisco.program.core.ProgramComponent" column="`idProgram`" cascade="save-update"></many-to-one>
        <many-to-one name="coa" class="aisco.chartofaccount.core.ChartOfAccountComponent" column="`idCoa`" cascade="save-update"></many-to-one> -->
        <property name="programName" column="programName"></property>
        <property name="idCoa" column="idCoa"></property>

        <subclass name="aisco.financialreport.core.FinancialReportImpl" discriminator-value = "fr_core" >
        </subclass>

        <subclass name="aisco.financialreport.chartless.FinancialReportChartlessDecorator" discriminator-value = "fr_chartless" >
        </subclass>
        
        <!-- <union-subclass name="aisco.financialreport.foreignless.FinancialReportForeignlessDecorator" table = "financialreport_foreignless">
            <many-to-one name="record" class="aisco.financialreport.core.FinancialReportComponent" column="`recordId`" cascade="all"/>
            <property name="programName" column="programName"></property>
            <property name="coaCode" column="coaCode"></property>
        </union-subclass> -->

        <union-subclass name="aisco.financialreport.expense.FinancialReportExpenseDecorator" table = "financialreport_expense">
            <many-to-one name="record" class="aisco.financialreport.core.FinancialReportComponent" column="`recordId`" cascade="all"/>
        </union-subclass>

        <subclass name="aisco.financialreport.income.FinancialReportIncomeDecorator" discriminator-value = "fr_income">
            <many-to-one name="record" class="aisco.financialreport.core.FinancialReportComponent" column="`recordId`" cascade="all"/>
            <property name="paymentMethod" column="paymentMethod"></property>
        </subclass>

        <subclass name="aisco.financialreport.frequency.FinancialReportFrequencyDecorator" discriminator-value = "fr_frequency">
            <many-to-one name="record" class="aisco.financialreport.core.FinancialReportComponent" column="`recordId`" cascade="all"/>
            <property name="frequency" column="frequency"></property>
        </subclass>
    </class>
</hibernate-mapping>